{"ast":null,"code":"(function ($) {\n  'use strict';\n\n  $.ajaxChimp = {\n    responses: {\n      'We have sent you a confirmation email': 0,\n      'Please enter a valid email': 1,\n      'An email address must contain a single @': 2,\n      'The domain portion of the email address is invalid (the portion after the @: )': 3,\n      'The username portion of the email address is invalid (the portion before the @: )': 4,\n      'This email address looks fake or invalid. Please enter a real email address': 5\n    },\n    translations: {\n      'en': null\n    },\n    init: function (selector, options) {\n      $(selector).ajaxChimp(options);\n    }\n  };\n  $.fn.ajaxChimp = function (options) {\n    $(this).each(function (i, elem) {\n      var form = $(elem);\n      var email = form.find('input[type=email]');\n      var label = form.find('.info');\n      var settings = $.extend({\n        'url': form.attr('action'),\n        'language': 'en'\n      }, options);\n      var url = settings.url.replace('/post?', '/post-json?').concat('&c=?');\n      form.attr('novalidate', 'true');\n      email.attr('name', 'EMAIL');\n      form.submit(function () {\n        var msg;\n        function successCallback(resp) {\n          if (resp.result === 'success') {\n            msg = 'We have sent you a confirmation email';\n            label.removeClass('error').addClass('valid');\n            email.removeClass('error').addClass('valid');\n          } else {\n            email.removeClass('valid').addClass('error');\n            label.removeClass('valid').addClass('error');\n            var index = -1;\n            try {\n              var parts = resp.msg.split(' - ', 2);\n              if (parts[1] === undefined) {\n                msg = resp.msg;\n              } else {\n                var i = parseInt(parts[0], 10);\n                if (i.toString() === parts[0]) {\n                  index = parts[0];\n                  msg = parts[1];\n                } else {\n                  index = -1;\n                  msg = resp.msg;\n                }\n              }\n            } catch (e) {\n              index = -1;\n              msg = resp.msg;\n            }\n          }\n\n          // Translate and display message\n          if (settings.language !== 'en' && $.ajaxChimp.responses[msg] !== undefined && $.ajaxChimp.translations && $.ajaxChimp.translations[settings.language] && $.ajaxChimp.translations[settings.language][$.ajaxChimp.responses[msg]]) {\n            msg = $.ajaxChimp.translations[settings.language][$.ajaxChimp.responses[msg]];\n          }\n          label.html(msg);\n          label.show(2000);\n          if (settings.callback) {\n            settings.callback(resp);\n          }\n        }\n        var data = {};\n        var dataArray = form.serializeArray();\n        $.each(dataArray, function (index, item) {\n          data[item.name] = item.value;\n        });\n        $.ajax({\n          url: url,\n          data: data,\n          success: successCallback,\n          dataType: 'jsonp',\n          error: function (resp, text) {\n            console.log('mailchimp ajax submit error: ' + text);\n          }\n        });\n\n        // Translate and display submit message\n        var submitMsg = 'Submitting...';\n        if (settings.language !== 'en' && $.ajaxChimp.translations && $.ajaxChimp.translations[settings.language] && $.ajaxChimp.translations[settings.language]['submit']) {\n          submitMsg = $.ajaxChimp.translations[settings.language]['submit'];\n        }\n        label.html(submitMsg).show(2000);\n        return false;\n      });\n    });\n    return this;\n  };\n})(jQuery);","map":{"version":3,"names":["$","ajaxChimp","responses","translations","init","selector","options","fn","each","i","elem","form","email","find","label","settings","extend","attr","url","replace","concat","submit","msg","successCallback","resp","result","removeClass","addClass","index","parts","split","undefined","parseInt","toString","e","language","html","show","callback","data","dataArray","serializeArray","item","name","value","ajax","success","dataType","error","text","console","log","submitMsg","jQuery"],"sources":["C:/git-hub/devhitesh/src/js/jquery.ajaxchimp.min.js"],"sourcesContent":["(function ($) {\n    'use strict';\n\n    $.ajaxChimp = {\n        responses: {\n            'We have sent you a confirmation email'                                             : 0,\n            'Please enter a valid email'                                                        : 1,\n            'An email address must contain a single @'                                          : 2,\n            'The domain portion of the email address is invalid (the portion after the @: )'    : 3,\n            'The username portion of the email address is invalid (the portion before the @: )' : 4,\n            'This email address looks fake or invalid. Please enter a real email address'       : 5\n        },\n        translations: {\n            'en': null\n        },\n        init: function (selector, options) {\n            $(selector).ajaxChimp(options);\n        }\n    };\n\n    $.fn.ajaxChimp = function (options) {\n        $(this).each(function(i, elem) {\n            var form = $(elem);\n            var email = form.find('input[type=email]');\n            var label = form.find('.info');\n\n            var settings = $.extend({\n                'url': form.attr('action'),\n                'language': 'en'\n            }, options);\n\n            var url = settings.url.replace('/post?', '/post-json?').concat('&c=?');\n\n            form.attr('novalidate', 'true');\n            email.attr('name', 'EMAIL');\n\n            form.submit(function () {\n                var msg;\n                function successCallback(resp) {\n                    if (resp.result === 'success') {\n                        msg = 'We have sent you a confirmation email';\n                        label.removeClass('error').addClass('valid');\n                        email.removeClass('error').addClass('valid');\n                    } else {\n                        email.removeClass('valid').addClass('error');\n                        label.removeClass('valid').addClass('error');\n                        var index = -1;\n                        try {\n                            var parts = resp.msg.split(' - ', 2);\n                            if (parts[1] === undefined) {\n                                msg = resp.msg;\n                            } else {\n                                var i = parseInt(parts[0], 10);\n                                if (i.toString() === parts[0]) {\n                                    index = parts[0];\n                                    msg = parts[1];\n                                } else {\n                                    index = -1;\n                                    msg = resp.msg;\n                                }\n                            }\n                        }\n                        catch (e) {\n                            index = -1;\n                            msg = resp.msg;\n                        }\n                    }\n\n                    // Translate and display message\n                    if (\n                        settings.language !== 'en'\n                        && $.ajaxChimp.responses[msg] !== undefined\n                        && $.ajaxChimp.translations\n                        && $.ajaxChimp.translations[settings.language]\n                        && $.ajaxChimp.translations[settings.language][$.ajaxChimp.responses[msg]]\n                    ) {\n                        msg = $.ajaxChimp.translations[settings.language][$.ajaxChimp.responses[msg]];\n                    }\n                    label.html(msg);\n\n                    label.show(2000);\n                    if (settings.callback) {\n                        settings.callback(resp);\n                    }\n                }\n\n                var data = {};\n                var dataArray = form.serializeArray();\n                $.each(dataArray, function (index, item) {\n                    data[item.name] = item.value;\n                });\n\n                $.ajax({\n                    url: url,\n                    data: data,\n                    success: successCallback,\n                    dataType: 'jsonp',\n                    error: function (resp, text) {\n                        console.log('mailchimp ajax submit error: ' + text);\n                    }\n                });\n\n                // Translate and display submit message\n                var submitMsg = 'Submitting...';\n                if(\n                    settings.language !== 'en'\n                    && $.ajaxChimp.translations\n                    && $.ajaxChimp.translations[settings.language]\n                    && $.ajaxChimp.translations[settings.language]['submit']\n                ) {\n                    submitMsg = $.ajaxChimp.translations[settings.language]['submit'];\n                }\n                label.html(submitMsg).show(2000);\n\n                return false;\n            });\n        });\n        return this;\n    };\n})(jQuery);"],"mappings":"AAAA,CAAC,UAAUA,CAAC,EAAE;EACV,YAAY;;EAEZA,CAAC,CAACC,SAAS,GAAG;IACVC,SAAS,EAAE;MACP,uCAAuC,EAA+C,CAAC;MACvF,4BAA4B,EAA0D,CAAC;MACvF,0CAA0C,EAA4C,CAAC;MACvF,gFAAgF,EAAM,CAAC;MACvF,mFAAmF,EAAG,CAAC;MACvF,6EAA6E,EAAS;IAC1F,CAAC;IACDC,YAAY,EAAE;MACV,IAAI,EAAE;IACV,CAAC;IACDC,IAAI,EAAE,UAAUC,QAAQ,EAAEC,OAAO,EAAE;MAC/BN,CAAC,CAACK,QAAQ,CAAC,CAACJ,SAAS,CAACK,OAAO,CAAC;IAClC;EACJ,CAAC;EAEDN,CAAC,CAACO,EAAE,CAACN,SAAS,GAAG,UAAUK,OAAO,EAAE;IAChCN,CAAC,CAAC,IAAI,CAAC,CAACQ,IAAI,CAAC,UAASC,CAAC,EAAEC,IAAI,EAAE;MAC3B,IAAIC,IAAI,GAAGX,CAAC,CAACU,IAAI,CAAC;MAClB,IAAIE,KAAK,GAAGD,IAAI,CAACE,IAAI,CAAC,mBAAmB,CAAC;MAC1C,IAAIC,KAAK,GAAGH,IAAI,CAACE,IAAI,CAAC,OAAO,CAAC;MAE9B,IAAIE,QAAQ,GAAGf,CAAC,CAACgB,MAAM,CAAC;QACpB,KAAK,EAAEL,IAAI,CAACM,IAAI,CAAC,QAAQ,CAAC;QAC1B,UAAU,EAAE;MAChB,CAAC,EAAEX,OAAO,CAAC;MAEX,IAAIY,GAAG,GAAGH,QAAQ,CAACG,GAAG,CAACC,OAAO,CAAC,QAAQ,EAAE,aAAa,CAAC,CAACC,MAAM,CAAC,MAAM,CAAC;MAEtET,IAAI,CAACM,IAAI,CAAC,YAAY,EAAE,MAAM,CAAC;MAC/BL,KAAK,CAACK,IAAI,CAAC,MAAM,EAAE,OAAO,CAAC;MAE3BN,IAAI,CAACU,MAAM,CAAC,YAAY;QACpB,IAAIC,GAAG;QACP,SAASC,eAAe,CAACC,IAAI,EAAE;UAC3B,IAAIA,IAAI,CAACC,MAAM,KAAK,SAAS,EAAE;YAC3BH,GAAG,GAAG,uCAAuC;YAC7CR,KAAK,CAACY,WAAW,CAAC,OAAO,CAAC,CAACC,QAAQ,CAAC,OAAO,CAAC;YAC5Cf,KAAK,CAACc,WAAW,CAAC,OAAO,CAAC,CAACC,QAAQ,CAAC,OAAO,CAAC;UAChD,CAAC,MAAM;YACHf,KAAK,CAACc,WAAW,CAAC,OAAO,CAAC,CAACC,QAAQ,CAAC,OAAO,CAAC;YAC5Cb,KAAK,CAACY,WAAW,CAAC,OAAO,CAAC,CAACC,QAAQ,CAAC,OAAO,CAAC;YAC5C,IAAIC,KAAK,GAAG,CAAC,CAAC;YACd,IAAI;cACA,IAAIC,KAAK,GAAGL,IAAI,CAACF,GAAG,CAACQ,KAAK,CAAC,KAAK,EAAE,CAAC,CAAC;cACpC,IAAID,KAAK,CAAC,CAAC,CAAC,KAAKE,SAAS,EAAE;gBACxBT,GAAG,GAAGE,IAAI,CAACF,GAAG;cAClB,CAAC,MAAM;gBACH,IAAIb,CAAC,GAAGuB,QAAQ,CAACH,KAAK,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC;gBAC9B,IAAIpB,CAAC,CAACwB,QAAQ,EAAE,KAAKJ,KAAK,CAAC,CAAC,CAAC,EAAE;kBAC3BD,KAAK,GAAGC,KAAK,CAAC,CAAC,CAAC;kBAChBP,GAAG,GAAGO,KAAK,CAAC,CAAC,CAAC;gBAClB,CAAC,MAAM;kBACHD,KAAK,GAAG,CAAC,CAAC;kBACVN,GAAG,GAAGE,IAAI,CAACF,GAAG;gBAClB;cACJ;YACJ,CAAC,CACD,OAAOY,CAAC,EAAE;cACNN,KAAK,GAAG,CAAC,CAAC;cACVN,GAAG,GAAGE,IAAI,CAACF,GAAG;YAClB;UACJ;;UAEA;UACA,IACIP,QAAQ,CAACoB,QAAQ,KAAK,IAAI,IACvBnC,CAAC,CAACC,SAAS,CAACC,SAAS,CAACoB,GAAG,CAAC,KAAKS,SAAS,IACxC/B,CAAC,CAACC,SAAS,CAACE,YAAY,IACxBH,CAAC,CAACC,SAAS,CAACE,YAAY,CAACY,QAAQ,CAACoB,QAAQ,CAAC,IAC3CnC,CAAC,CAACC,SAAS,CAACE,YAAY,CAACY,QAAQ,CAACoB,QAAQ,CAAC,CAACnC,CAAC,CAACC,SAAS,CAACC,SAAS,CAACoB,GAAG,CAAC,CAAC,EAC5E;YACEA,GAAG,GAAGtB,CAAC,CAACC,SAAS,CAACE,YAAY,CAACY,QAAQ,CAACoB,QAAQ,CAAC,CAACnC,CAAC,CAACC,SAAS,CAACC,SAAS,CAACoB,GAAG,CAAC,CAAC;UACjF;UACAR,KAAK,CAACsB,IAAI,CAACd,GAAG,CAAC;UAEfR,KAAK,CAACuB,IAAI,CAAC,IAAI,CAAC;UAChB,IAAItB,QAAQ,CAACuB,QAAQ,EAAE;YACnBvB,QAAQ,CAACuB,QAAQ,CAACd,IAAI,CAAC;UAC3B;QACJ;QAEA,IAAIe,IAAI,GAAG,CAAC,CAAC;QACb,IAAIC,SAAS,GAAG7B,IAAI,CAAC8B,cAAc,EAAE;QACrCzC,CAAC,CAACQ,IAAI,CAACgC,SAAS,EAAE,UAAUZ,KAAK,EAAEc,IAAI,EAAE;UACrCH,IAAI,CAACG,IAAI,CAACC,IAAI,CAAC,GAAGD,IAAI,CAACE,KAAK;QAChC,CAAC,CAAC;QAEF5C,CAAC,CAAC6C,IAAI,CAAC;UACH3B,GAAG,EAAEA,GAAG;UACRqB,IAAI,EAAEA,IAAI;UACVO,OAAO,EAAEvB,eAAe;UACxBwB,QAAQ,EAAE,OAAO;UACjBC,KAAK,EAAE,UAAUxB,IAAI,EAAEyB,IAAI,EAAE;YACzBC,OAAO,CAACC,GAAG,CAAC,+BAA+B,GAAGF,IAAI,CAAC;UACvD;QACJ,CAAC,CAAC;;QAEF;QACA,IAAIG,SAAS,GAAG,eAAe;QAC/B,IACIrC,QAAQ,CAACoB,QAAQ,KAAK,IAAI,IACvBnC,CAAC,CAACC,SAAS,CAACE,YAAY,IACxBH,CAAC,CAACC,SAAS,CAACE,YAAY,CAACY,QAAQ,CAACoB,QAAQ,CAAC,IAC3CnC,CAAC,CAACC,SAAS,CAACE,YAAY,CAACY,QAAQ,CAACoB,QAAQ,CAAC,CAAC,QAAQ,CAAC,EAC1D;UACEiB,SAAS,GAAGpD,CAAC,CAACC,SAAS,CAACE,YAAY,CAACY,QAAQ,CAACoB,QAAQ,CAAC,CAAC,QAAQ,CAAC;QACrE;QACArB,KAAK,CAACsB,IAAI,CAACgB,SAAS,CAAC,CAACf,IAAI,CAAC,IAAI,CAAC;QAEhC,OAAO,KAAK;MAChB,CAAC,CAAC;IACN,CAAC,CAAC;IACF,OAAO,IAAI;EACf,CAAC;AACL,CAAC,EAAEgB,MAAM,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}